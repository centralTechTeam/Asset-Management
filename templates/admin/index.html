{% extends 'admin/base.html' %}

{% load static %}

{% block content %}
<h1 class="h3 mb-3"><strong>Asset Analytical</strong> Dashboard</h1>

<div class="row">
	<div class="col-sm-4 grid-margin ">
	  <div class="card ">
		<div class="card-body ">
			<div class="row">
				<div class="col mt-0">
					<h5 class="card-title">Total Asset in the University</h5>
				</div>

				<div class="col-auto">
					<div class="stat text-primary">
						<i class="align-middle" data-feather="truck"></i>
					</div>
				</div>
			</div>
		  <div class="row">
			<div class="col-8 col-sm-12 col-xl-8 my-auto">
			  <div class="d-flex d-sm-block d-md-flex align-items-center">
				<h1 class="mt-1 mb-3">{{total_asset}}</h1>
				
			  </div>
			</div>
			<p class="text-muted font-weight-normal">{% now "F jS, Y" %}/ <span class="text-muted no-wrap">As dated</span></p> 
		  </div>
		</div>
	  </div>
	</div>

	<div class="col-sm-4 grid-margin">
	  <div class="card">
		<div class="card-body">
			<div class="row">
				<div class="col mt-0">
					<h5 class="card-title">Total Users</h5>
				</div>

				<div class="col-auto">
					<div class="stat text-primary">
						<i class="align-middle" data-feather="users"></i>
					</div>
				</div>
			</div>

		  <div class="row">
			<div class="col-8 col-sm-12 col-xl-8 my-auto">
			  <div class="d-flex d-sm-block d-md-flex align-items-center">
				<h1 class="mt-1 mb-3">{{total_emp}}</h1>

			  </div>
			</div>
			<p class="text-muted font-weight-normal">{% now "F jS, Y" %}/ <span class="text-muted no-wrap">As dated</span></p> 
		  </div>
		</div>
	  </div>
	</div>

	<div class="col-sm-4 grid-margin">
	  <div class="card">
		<div class="card-body">
		  <div class="row">
			<div class="col mt-0">
				<h5 class="card-title">Total Vendors</h5>
			</div>

			<div class="col-auto">
				<div class="stat text-primary">
					<i class="align-middle" data-feather="dollar-sign"></i>
				</div>
			</div>
		</div>
		  <div class="row">
			<div class="col-8 col-sm-12 col-xl-8 my-auto">
			  <div class="d-flex d-sm-block d-md-flex align-items-center">
				<h1 class="mt-1 mb-3">{{total_vendor}}</h1>
				
			  </div>			  
			</div>
			<p class="text-muted font-weight-normal">{% now "F jS, Y" %}/ <span class="text-muted no-wrap">As dated</span></p> 
		  </div>
		</div>
	  </div>
	</div>
</div>

<!--
<div class="row">
	<div class="col-xl-6 col-xxl-5 d-flex">
		<div class="w-100">
			<div class="row">
				<div class="col-sm-6">
					<div class="card">
						<div class="card-body">
							<div class="row">
								<div class="col mt-0">
									<h5 class="card-title">Total Asset in the University</h5>
								</div>

								<div class="col-auto">
									<div class="stat text-primary">
										<i class="align-middle" data-feather="truck"></i>
									</div>
								</div>
							</div>
							<h1 class="mt-1 mb-3">2.382</h1>
							<div class="mb-0">
								<span class="text-danger"> <i class="mdi mdi-arrow-bottom-right"></i> -3.65% </span>
								<span class="text-muted">Since last week</span>
							</div>
						</div>
					</div>
					<div class="card">
						<div class="card-body">
							<div class="row">
								<div class="col mt-0">
									<h5 class="card-title">Total Users</h5>
								</div>

								<div class="col-auto">
									<div class="stat text-primary">
										<i class="align-middle" data-feather="users"></i>
									</div>
								</div>
							</div>
							<h1 class="mt-1 mb-3">14.212</h1>
							<div class="mb-0">
								<span class="text-success"> <i class="mdi mdi-arrow-bottom-right"></i> 5.25% </span>
								<span class="text-muted">Since last week</span>
							</div>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="card">
						<div class="card-body">
							<div class="row">
								<div class="col mt-0">
									<h5 class="card-title">Total Vendors</h5>
								</div>

								<div class="col-auto">
									<div class="stat text-primary">
										<i class="align-middle" data-feather="dollar-sign"></i>
									</div>
								</div>
							</div>
							<h1 class="mt-1 mb-3">$21.300</h1>
							<div class="mb-0">
								<span class="text-success"> <i class="mdi mdi-arrow-bottom-right"></i> 6.65% </span>
								<span class="text-muted">Since last week</span>
							</div>
						</div>
					</div>
					<div class="card">
						<div class="card-body">
							<div class="row">
								<div class="col mt-0">
									<h5 class="card-title">Orders</h5>
								</div>

								<div class="col-auto">
									<div class="stat text-primary">
										<i class="align-middle" data-feather="shopping-cart"></i>
									</div>
								</div>
							</div>
							<h1 class="mt-1 mb-3">64</h1>
							<div class="mb-0">
								<span class="text-danger"> <i class="mdi mdi-arrow-bottom-right"></i> -2.25% </span>
								<span class="text-muted">Since last week</span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div> -->

<div class="row">
	<div class="col-12 col-lg-8 col-xxl-9 d-flex">
		<div class="card flex-fill">
			<div class="card-header">

				<h2 class="card-title mb-0">Employees and Assets</h2>
			</div>
			<table class="table table-hover my-0">
				<thead>
					<tr>
						<th>#</th>
						<th>Employee Name</th>
						<th class="d-none d-xl-table-cell">Total Assets</th>
						<th class="d-none d-xl-table-cell">Date</th>
					</tr>
				</thead>
				<tbody>
					{% for employee, total_assets in employee_assets %}
						<tr>
							<td>{{ employee.id }}</td>
							<td>{{ employee.Full_Name }}</td>
							<td class="d-none d-xl-table-cell">{{ total_assets }}</td>
							<td class="d-none d-xl-table-cell">{% now "F jS, Y" %}</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
			<div class="pagination">
				<span class="step-links">
					{% if employee_assets.has_previous %}
					<a href="?page=1">&laquo; first</a>
					<a href="?page={{ employee_assets.previous_page_number }}">&lsaquo; previous</a>
					{% endif %}
			
					<span class="current-page">
						Page {{ employee_assets.number }} of {{ employee_assets.paginator.num_pages }}.
					</span>
			
					{% if employee_assets.has_next %}
					<a href="?page={{ employee_assets.next_page_number }}">next &rsaquo;</a>
					<a href="?page={{ employee_assets.paginator.num_pages }}">last &raquo;</a>
					{% endif %}
				</span>
			</div>
		</div>
	</div>

	<div class="col-12 col-md-12 col-xxl-6 d-flex order-3 order-xxl-2">
		<div class="card flex-fill w-100">
			<div class="card-header">

				<h5 class="card-title mb-0">Real-Time</h5>
			</div>
			<div class="card-body px-4">
				<div id="world_map" style="height:350px;"></div>
			</div>
		</div>
	</div>
	
	<div class="col-md-4 grid-margin stretch-card">
		<div class="card">
		  <div class="card-body">
			<h4 class="card-title">Assets History</h4>

			<div class="bg-gray-dark d-flex d-md-block d-xl-flex flex-row py-3 px-4 px-md-3 px-xl-4 rounded mt-3">
			  <div class="text-md-center text-xl-left">
				<h6 class="mb-1">New</h6>
				<p class="text-muted mb-0">{% now "jS \o\f F, P" %}</p>
			  </div>
			  <div class="align-self-center flex-grow text-right text-md-center text-xl-right py-md-2 py-xl-0">
				<h6 class="font-weight-bold mb-0">{{ New_Assets|length }}</h6>
			  </div>
			</div>
			<div class="bg-gray-dark d-flex d-md-block d-xl-flex flex-row py-3 px-4 px-md-3 px-xl-4 rounded mt-3">
			  <div class="text-md-center text-xl-left">
				<h6 class="mb-1">Good</h6>
				<p class="text-muted mb-0">{% now "jS \o\f F, P" %}</p>
			  </div>
			  <div class="align-self-center flex-grow text-right text-md-center text-xl-right py-md-2 py-xl-0">
				<h6 class="font-weight-bold mb-0">{{ Good_Assets|length }}</h6>
			  </div>
			</div>
			<div class="bg-gray-dark d-flex d-md-block d-xl-flex flex-row py-3 px-4 px-md-3 px-xl-4 rounded mt-3">
			  <div class="text-md-center text-xl-left">
				<h6 class="mb-1">Used</h6>
				<p class="text-muted mb-0">{% now "jS \o\f F, P" %}</p>
			  </div>
			  <div class="align-self-center flex-grow text-right text-md-center text-xl-right py-md-2 py-xl-0">
				<h6 class="font-weight-bold mb-0">{{ Used_Assets|length }}</h6>
			  </div>
			</div>
			<div class="bg-gray-dark d-flex d-md-block d-xl-flex flex-row py-3 px-4 px-md-3 px-xl-4 rounded mt-3">
			  <div class="text-md-center text-xl-left">
				<h6 class="mb-1">Defective</h6>
				<p class="text-muted mb-0">{% now "jS \o\f F, P" %}</p>
			  </div>
			  <div class="align-self-center flex-grow text-right text-md-center text-xl-right py-md-2 py-xl-0">
				<h6 class="font-weight-bold mb-0">{{ Defective_Assets|length }}</h6>
			  </div>
			</div>
		  </div>
		</div>
	</div>

	
</div>

<div class="row">

	<div class="col-12 col-lg-4 col-xxl-3 d-flex">
		<div class="card flex-fill w-100">
			<div class="card-header">

				<h5 class="card-title mb-0">Assets Vendors by Countries</h5>
			</div>
			<div class="card-body d-flex w-100">
				<div class="align-self-center chart chart-lg">
					<div class="table-responsive">
						<table class="table table-bordered border-primary">
						  <thead class="thead-dark">
							<tr>
							  <th> No </th>
							  <th>Country</th>
							  <th>No of Vendors</th>
							</tr>
						  </thead>
						  <tbody>
							{% for vendor in vendors %}
								  <tr>
									  <td>{{ forloop.counter }}</td>
									  <td>{{ vendor.Country }}</td>
									  <td class="text-right"> {{ vendor.total }} </td>
								  </tr>
							  {% endfor %}
						  </tbody> 
						</table>
					  </div>
				</div>
			</div>
		</div>
	</div>

	<!--
	<div class="row">
		<div class="col-12">
		  <div class="card">
			<div class="card-body">
			  <h4 class="card-title">Assets Vendors by Countries</h4>
			  <div class="row">
				<div class="col-md-5">
				  <div class="table-responsive">
					<table class="table table-bordered border-primary">
					  <thead class="thead-dark">
						<tr>
						  <th> No </th>
						  <th>Country</th>
						  <th>Number of Vendors</th>
						</tr>
					  </thead>
					  <tbody>
						{% for vendor in vendors %}
							  <tr>
								  <td>{{ forloop.counter }}</td>
								  <td>{{ vendor.Country }}</td>
								  <td class="text-right"> {{ vendor.total }} </td>
							  </tr>
						  {% endfor %}
					  </tbody> 
					</table>
				  </div>
				</div>
				<div class="col-md-7">
				  <div id="audience-map" class="vector-map"></div>
				</div>                      

			  </div>
			</div>
		  </div>
		</div>
	  </div>
	-->
</div>
{% endblock content %}